# 6.12 不保存执行状态 #


默认情况下,所有 **ItemReader** 和 **ItemWriter** 的实现都在提交之前会把当前状态存储在 **ExecutionContext** 中。 但有时我们又不想这样做。 例如,许多开发人员使用处理指示器(process indicator)让数据库读取程序 '可重复运行(rerunnable)'。添加一个额外的列到输入数据中来标识该记录是否已被处理。 党某部分记录被读取/写出时,将标志位从 `false` 变为 `true`, 然后只要在SQL语句的where子句中包含一个附加条件, 例如 "`where PROCESSED_IND = false`", 就可以确保在任务重启后只查询到未处理的记录。 此时,就不需要保存任何状态, 比如当前 row number 什么的, 因为在重启后这些数据都没有用了。 由于这些原因, 所有的 readers 和 writers 都包含 `saveState` 属性:


	<bean id="playerSummarizationSource" class="org.spr...JdbcCursorItemReader">
	    <property name="dataSource" ref="dataSource" />
	    <property name="rowMapper">
	        <bean class="org.springframework.batch.sample.PlayerSummaryMapper" />
	    </property>
	    <property name="saveState" value="false" />
	    <property name="sql">
	        <value>
	            SELECT games.player_id, games.year_no, SUM(COMPLETES),
	            SUM(ATTEMPTS), SUM(PASSING_YARDS), SUM(PASSING_TD),
	            SUM(INTERCEPTIONS), SUM(RUSHES), SUM(RUSH_YARDS),
	            SUM(RECEPTIONS), SUM(RECEPTIONS_YARDS), SUM(TOTAL_TD)
	            from games, players where players.player_id =
	            games.player_id group by games.player_id, games.year_no
	        </value>
	    </property>
	</bean>

上面配置的这个 **ItemReader**  在任何情况下都不会将 entries（状态信息）放入 **ExecutionContext** 中.